# Пояснительная записка к проекту
## «Автономная метеостанция на Arduino с цветным TFT-дисплеем»

---

## 1. ФИО автора проекта


**Состав команды и роли:**
- Ерошкин Егор Алексеевич — сборка устройства, код
- Усольцев Иван Алексеевич — разработка корпуса и его печать
- Измайлов Кирилл Андреевич - сборка устройства, код

---

## 2. Причины выбора проекта

Контроль микроклимата — важная задача для создания комфорта дома, в теплице, лаборатории и других помещениях. Большинство готовых приборов или слишком просты и не имеют истории, или сильно зависят от интернет-сервисов и облака, что не всегда удобно и зачастую требует дополнительных затрат.

**Данный проект** позволяет создать полностью автономное, удобное и наглядное решение с историей изменений — без необходимости доступа в интернет или дополнительных устройств.

---

## 3. Цели и задачи проекта

**Цель:**  
Создать компактную портативную метеостанцию для измерения температуры, влажности и давления воздуха с графической индикацией текущих показателей и истории на цветном дисплее.

**Задачи проекта:**
- Выбрать подходящие сенсоры, экран, аккумуляторы и микроконтроллер (Arduino-совместимый).
- Спроектировать электрическую схему соединений.
- Создать 3D-модель корпуса и подготовить его к печати или сборке.
- Собрать и протестировать устройство.
- Написать максимально понятный и открытый код с логикой сбора, хранения истории и визуализации данных.
- Проверить работоспособность и выложить все файлы в репозиторий.

---

## 4. Описание продукта (устройства)

**Метеостанция** — автономное компактное устройство, включающее:

- Цветной TFT-дисплей (ST7789, 240×240, SPI)
- Сенсоры температуры и влажности (DHT11), давления (BMP180)
- Питание от двух аккумуляторов 18650
- Прочный и легкий корпус с удобным расположением датчиков и дисплея
- Понятный локальный интерфейс: текущие значения параметров + автопереключающийся график истории на экране  
- Отсутствуют любые интернет-соединения или облачные сервисы — устройство полностью оффлайн

---

## 5. Процесс реализации (проектирование, изготовление, тестирование, анализ результатов) и цифровые объекты

### Этап 1: Анализ, проектирование и подбор компонентов

- **Исходя из требований автономности и простоты изготовления**, были выбраны:
    - Arduino-совместимая плата Wemos D1
    - Сенсор DHT11 для измерения температуры и влажности
    - Сенсор BMP180 (GY-68) для измерения давления (I2C)
    - Цветной TFT-дисплей ST7789 (240×240, SPI) для визуализации
    - Два аккумулятора 18650, механическая кнопка включения и простой 3D-печатный корпус.
- **Создана 3D-модель корпуса** для точного расположения дисплея, кнопки и внешних сенсоров, а также удобного доступа к аккумуляторам (см. [`3d_model.stl`](./3d_model.stl)).

### Этап 2: Реализация и сборка устройства

- **Сборка прототипа началась на макетной плате** — тестировались распиновка, функциональность датчиков, совместимость библиотек.
- После удачных первых испытаний схема собрана в корпусе, сенсоры выведены наружу для точности измерений, дисплей и органы управления удобно размещены для пользователя.
- Особое внимание уделено крепёжным элементам и вентиляции корпуса для корректной работы датчиков.

### Этап 3: Программирование и реализация логики

- **Код проекта максимально понятен и структурирован:**  
    - Используются официальные и популярные Arduino-библиотеки (`Adafruit_GFX`, `Adafruit_ST7789`, `DHT11`, `Adafruit_BMP085`).
    - В цикле работы:  
        - Сенсоры опрашиваются с интервалом 2 секунды, актуальные значения сохраняются в массивы истории (до 60 точек для каждого параметра).
        - На дисплей выводятся крупные цветные значения температуры, влажности, давления.
        - В нижней части экрана строится автосменяемый график истории (переключение параметров каждые 2 секунды).
        - В случае ошибок сенсоров на экране автоматически отображается предупреждение.
    - Для удобства понимания кода он снабжён комментариями, все переменные названы осмысленно.

### Псевдокод

```plaintext
- Инициализация дисплея и сенсоров
- Вечный цикл:
    - Считать температуру и влажность (DHT11)
    - Считать давление (BMP180)
    - Если данные корректны — сохранить в массив истории
    - Очистить дисплей
    - Вывести текущие значения (разными цветами)
    - Построить график истории одного параметра (выбран автоматически, меняется каждые 2 сек)
    - Подождать 2 секунды
```

### Этап 4: Тестирование и анализ результатов

- **Устройство тестировалось в жилом помещении, на улице:**
    - Проверка стабильности работы датчиков при разных температурных и влажностных режимах.
    - Сравнение результата с бытовыми аналоговыми приборами и официальными погодными ресурсами: значения легли в паспортные пределы точности.
- **Юзабилити тест:**  
    - Большие шрифты, цветовая индикация и график оказались интуитивно понятны — даже ребёнку легко оценить изменения в микроклимате.
- **Проверка автономной работы:**  
    - Устройство показало до 2–4 дней стабильной работы от аккумуляторов при частоте обновления данных 2 секунды.

### Цифровые объекты проекта

- Основной код: [`main.cpp`](https://github.com/rgrgrg18/weather-station/blob/main/main.cpp)
- Корпус (3D): [`3dModel.stl`](https://github.com/rgrgrg18/weather-station/blob/main/3dModel.stl)
- Совокупность этих объектов выложена в открытом репозитории проекта:  
  [https://github.com/rgrgrg18/weather-station](https://github.com/rgrgrg18/weather-station)

---

## 6. Анализ существующих аналогов и отличительные признаки проекта

### Аналоги

На рынке представлено множество различных устройств для мониторинга микроклимата. Наиболее распространённые категории аналогов:

- **Бытовые цифровые термометры/гигрометры**, например:
    - Hama TH50 [ссылка](https://www.dns-shop.ru/product/864a6b610ad72ff2/meteostancia-hama-th50/)
    - Простой гигрометр [ссылка](https://www.ozon.ru/product/gigrometr-komnatnyy-meteostantsiya-tsifrovoy-izmeritel-vlazhnosti-i-temperatury-tochnye-izmereniya-1628177721/)
    - *Плюсы*: низкая цена, простота
    - *Минусы*: как правило, нет возможности увидеть историю, графики, либо эти функции очень ограничены (в виде стрелки или максимум/минимум)

- **Умные метеостанции с интернетом**, например:
    - Xiaomi Mijia Electronic Thermometer [ссылка](https://www.mijia-shop.com/product/xiaomi-electronic-thermometer-and-hygrometer/)
    - Netatmo Weather Station ([ссылка](https://www.netatmo.com/ru-ru/weather/weatherstation))
    - "Умные" решения от La Crosse, Oregon Scientific, Bresser
    - *Плюсы*: очень удобный мобильный интерфейс, долгосрочные графики, удалённый доступ
    - *Минусы*: высокая цена, сложная настройка, требуется интернет и облако, возможна привязка к сервису производителя

### Подробнее про отличительные признаки и преимущества данного проекта

- **Полная автономность**  
    - Не требуется интернет, Wi-Fi, роутер, ПК, облако.  
    - Устройство полностью самостоятельное, работает в любом месте.

- **История и графики прямо на устройстве**  
    - В отличие от простых аналогов, прибор хранит до 60 последних измерений каждого параметра и строит динамический график на экране.

- **Доступность и простота**  
    - Используются только массово доступные и недорогие компоненты (DHT11, BMP180, Wemos D1, ST7789, стандартные аккумуляторы 18650).
    - Электроника компонуется в понятной схеме, все файлы (3D-модель, схема, код) открыты.

- **Лёгкость самостоятельной сборки и доработки**  
    - В отличие от большинства фабричных решений, проект полностью открыт: пользователь может модифицировать код, схему, корпус, заменять и добавлять новые сенсоры.

- **Интуитивный пользовательский интерфейс**  
    - Крупные цветные значения и автосменяемые графики на экране понятны даже ребенку.

- **Нет скрытых подписок, оплаты за облако или зависимости от серверов производителей**  
    - Долговечность устройства и независимость от жизненного цикла компании-производителя.

**Итого:**  
В отличие от бытовых аналогов проект сочетает графическую историю (обычно доступную только в "умных" интернет-решениях) с максимальной простотой и полной автономностью DIY-гаджета, сохраняя доступность и гибкость для пользователя.
